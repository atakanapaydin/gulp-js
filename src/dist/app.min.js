const headerNav=document.getElementsByClassName("navList"),bannerList=document.getElementsByClassName("mySwiper"),barList=document.getElementsByClassName("bar-container"),productsList=document.getElementsByClassName("product-list"),signUpBtn=document.getElementsByClassName("login"),loadMoreBtn=document.getElementsByClassName("load-more"),search=document.getElementsByClassName("search"),body=document.getElementsByTagName("body");let toggleMenu=document.querySelectorAll(".mobile-menu"),menu=document.getElementsByClassName("nav-list");const header=document.getElementsByTagName("header"),langBtns=(toggleMenu[0].addEventListener("click",function(){console.log(toggleMenu),menu[0].classList.toggle("active"),signUpBtn[0].classList.toggle("active"),body[0].classList.toggle("active")}),window.addEventListener("scroll",function(){header[0].classList.toggle("sticky",0<window.scrollY)}),document.querySelectorAll(".lang-btn"));let language=getCookie("language")||"tr";const navJson="../src/JSON/menus.json",bannerJson="../src/JSON/banner.json",barJson="../src/JSON/bar.json",productsJson="../src/JSON/products.json",othersJson="../src/JSON/static.json";function updateOthers(t){fetch(othersJson).then(e=>e.json()).then(e=>{var e=e.find(e=>e.langCode===t),n=(loadMoreBtn[0].innerHTML="",signUpBtn[0].innerHTML="",`<a id="loadMore" href="javascript:;"><img src="src/img/frame-btn.svg" alt="">${e.getMore.title}</a>`),n=(loadMoreBtn[0].innerHTML+=n,`
          <a href="#" class="btn btn-white btn-animate sign-up-btn">${e.signUp.title}</a>`),n=(signUpBtn[0].innerHTML+=n,search[0].innerHTML="",`<input id="searchInput" type="text" placeholder="${e.productSearch.placeHolder}"><img src="src/img/search.svg" alt="">`);search[0].innerHTML+=n}).catch(e=>{console.error("Error",e)})}function setLanguage(e){document.cookie=`language=${e}; expires=Thu, 31 Dec 2099 23:59:59 UTC; path=/`;var n=window.location.pathname+("en"===e?"?lang=en":"");window.history.pushState({lang:e},"",n)}function getCookie(e){e=document.cookie.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]+)");return e?e.pop():""}function updateNavContent(n){fetch(navJson).then(e=>e.json()).then(e=>{e=e.find(e=>e.langCode===n).menus;headerNav[0].innerHTML="",e.forEach(e=>{e=`<li><a href="#" class="">${e.title}</a></li>`;headerNav[0].innerHTML+=e})}).catch(e=>{console.error("Error",e)})}function updateBannerContent(n){fetch(bannerJson).then(e=>e.json()).then(e=>{e=e.find(e=>e.langCode===n).banner;bannerList[0].innerHTML="",e.forEach(e=>{var n=e.title.split("["),t=n[1].split("]"),s=e.description,a=t[1].split(" "),r=a[a.length-1],a=(a.pop(),t[1]=a.join(" "),e.button.text),e=`
                <swiper-slide>
                <div class="swiper-content">
                <div class="swiper-content-title">
                <span class="block-span">${n[0]}<span class="agency-span"><span class="right-top-border"></span>${t[0]}</span>
                <span class="block-span">${t[1]}</span>
                ${r}
                <span class="design-square">
                  <span class="first"></span>
                  <span class="second"></span>
                  <span class="third"></span>
                  <span class="fourth"></span>
                </span>
              </div>
                  <div class="swiper-content-desc">
                    ${s}
                  </div>
                  <div class="swiper-content-link">
                    <a href="#" class="btn btn-white btn-animate ">${a}</a>
                  </div>
                </div>
                <div class="swiper-image">
                  <div class="swiper-image-frame">
                    <img src="src/img/banner-img.png" alt="banner-img">
                    <div class="swiper-image-frame-button">
                      <img src="src/img/frame-btn.svg" alt="banner-btn">
                    </div>
                  </div>
                  <div class="swiper-image-back-bg">
                    <img src="src/img/banner-bg-img.png" alt="banner-bg">
                  </div>
                </div>
              </swiper-slide>
        `;bannerList[0].innerHTML+=e})}).catch(e=>{console.error("Error",e)})}function updateBarContent(a){fetch(barJson).then(e=>e.json()).then(e=>{var e=e.find(e=>e.langCode===a),n=e.number,t=e.title,s=e.description,e=e.link.text,n=(barList[0].innerHTML="",`
        <div class="bar-title">
        <h1>
          ${n}
        </h1>
        <p>${t}</p>
      </div>
      <div class="bar-img">
        <img src="src/img/bar-img.png" alt="">
      </div>
      <div class="bar-desc">
        <p>${s}</p>
        <a href="#">${e}</a>
      </div>
        `);barList[0].innerHTML+=n}).catch(e=>{console.error("Error",e)})}function updateProductsContent(r){fetch(productsJson).then(e=>e.json()).then(e=>{const t=e.find(e=>e.langCode===r).products;let n=6;const s=document.getElementsByClassName("load-more");e=document.getElementsByClassName("mobile-search");function a(e,n){productsList[0].innerHTML="",e.slice(0,n).forEach(e=>{e=`
                        <div class="product-list-item" data-sort="${e.sort}">
                        <div class="product-list-item-img">
                          <img src="src/img/banner-img.png" alt="">
                        </div>
                        <div class="product-list-item-desc">
                          <h2>${e.title}</h2>
                        </div>
                    </div>
                        `;productsList[0].innerHTML+=e}),n>=e.length?s[0].style.display="none":s[0].style.display="block"}a(t,n),searchInput.addEventListener("keydown",function(e){var n;"Enter"===e.key&&(e=searchInput.value.trim(),n=e,a(t.filter(e=>e.title.toLowerCase().includes(n.toLowerCase()))))}),s[0].addEventListener("click",function(){n+=6,a(t,n)}),e[0].addEventListener("click",function(){})}).catch(e=>{console.error("Error",e)})}langBtns.forEach(n=>{n.classList.remove("active"),n.getAttribute("data-lang")===language&&n.classList.add("active"),n.addEventListener("click",function(e){e.preventDefault();e=n.getAttribute("data-lang");setLanguage(e),langBtns.forEach(e=>{e.classList.remove("active")}),n.classList.add("active"),updateNavContent(e),updateBannerContent(e),updateBarContent(e),updateProductsContent(e),updateOthers(e)})}),window.onload=function(){var e=getCookie("language")||"tr";updateOthers(e),updateNavContent(e),updateBannerContent(e),updateBarContent(e),updateProductsContent(e)};